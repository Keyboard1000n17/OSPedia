//JavaScript for the hamburger menu const hamburgerMenu = document.querySelector(".hamburger-menu img"); const menuChild = document.querySelector(".hamburger-menu-child"); hamburgerMenu.addEventListener("click", (e) => { e.stopPropagation(); // stop event from bubbling up menuChild.classList.toggle("show"); }); function setVh() { const vh = window.visualViewport ? `${window.visualViewport.height - 15}px` : `${window.innerHeight - 15}px`; document.documentElement.style.setProperty("--vh", vh); // document.querySelector("body").style.setProperty("--vh", vh); } // Close menu when clicking outside document.addEventListener("click", (e) => { if (!menuChild.contains(e.target)) { menuChild.classList.remove("show"); } }); // Listens for changes in viewport height if (window.matchMedia("(max-width: 768px)").matches) { window.addEventListener("resize", setVh); } // PageFind search box window.addEventListener("DOMContentLoaded", (event) => { new PagefindUI({ element: "#search", resetStyles: false, }); }); // Blur for PageFind drawer const observer = new MutationObserver(() => { const blur = document.querySelector(".pagefind-ui__blur"); if ( document.querySelector( ".pagefind-ui__drawer.svelte-e9gkc3.pagefind-ui__hidden", ) ) { blur.style.opacity = "0"; } else { blur.style.opacity = "1"; } }); observer.observe(document.body, { childList: true, subtree: true });
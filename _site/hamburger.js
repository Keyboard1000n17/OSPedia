//JavaScript for the hamburger menu const menu = document.querySelector(".hamburger-menu"); const menuIcon = document.querySelector(".hamburger-menu-icon"); const menuBlur = document.querySelector(".hamburger-menu-blur"); const menuClose = document.querySelector(".hamburger-menu-close"); menuIcon.addEventListener("click", (e) => { e.stopPropagation(); // stop event from bubbling up menu.classList.toggle("show"); menuBlur.classList.toggle("show"); }); function setVh() { const vh = window.visualViewport ? `${window.visualViewport.height - 25}px` : `${window.innerHeight - 25}px`; document.documentElement.style.setProperty("--vh", vh); } // Close menu when clicking outside document.addEventListener("click", (e) => { if (!menu.contains(e.target) || e.target === menuClose) { menu.classList.remove("show"); menuBlur.classList.remove("show"); } }); // Listens for changes in viewport height if (window.matchMedia("(max-width: 768px)").matches) { window.addEventListener("resize", setVh); } // PageFind search box window.addEventListener("DOMContentLoaded", (event) => { new PagefindUI({ element: "#search", resetStyles: false, }); }); // Blur for PageFind drawer const observer = new MutationObserver(() => { const blur = document.querySelector(".pagefind-ui__blur"); if ( document.querySelector( ".pagefind-ui__drawer.svelte-e9gkc3.pagefind-ui__hidden", ) ) { blur.style.opacity = "0"; } else { blur.style.opacity = "1"; } }); observer.observe(document.body, { childList: true, subtree: true });